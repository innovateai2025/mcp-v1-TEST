version: '3.8'

services:
  mcp-server:
    build: .
    container_name: la-cabrera-mcp
    ports:
      - "8080:8080"
    environment:
      # Configuraci贸n de Google Sheets
      - GOOGLE_SHEETS_CREDENTIALS=/app/credentials.json
      - GOOGLE_SHEETS_ID=${GOOGLE_SHEETS_ID}
      
      # Configuraci贸n de base de datos (opcional)
      - DATABASE_URL=${DATABASE_URL}
      
      # Email de administraci贸n para escalamientos (opcional)
      - ADMIN_EMAIL=${ADMIN_EMAIL}
      
      # Configuraci贸n de logging
      - LOG_LEVEL=${LOG_LEVEL:-INFO}
    
    volumes:
      # Montar credenciales de Google Sheets
      - ./credentials.json:/app/credentials.json:ro
      # Persistencia de datos (opcional)
      - mcp-data:/app/data
    
    restart: unless-stopped
    
    networks:
      - mcp-network

volumes:
  mcp-data:

networks:
  mcp-network:
    driver: bridge

